<ion-view hide-back-button="true" hide-nav-bar="false" class="bg-light">


    <ion-nav-title class="bar bar-header item-input-inset" ng-class="{'app-header-search-android':isAndroid, 'app-header-search-ios':isIOS}">
        <button ng-if="isAndroid" class="button back-button buttons button-clear button-clear header-item" ng-click="$ionicGoBack()">
            <i class="icon ion-android-arrow-back"></i>
        </button>
        <label ng-if="isAndroid" class="item-input-wrapper">
            <input type="search" ng-model="inputSearch.value" placeholder="Procurar">
        </label>
        <button ng-if="isAndroid" class="button button-clear ion-android-close button-stable" ng-show="inputSearch.value.length > 0" ng-click="clearSearch()"></button>
        
        <label ng-if="isIOS" class="item-input-wrapper">
            <i class="icon ion-ios-search placeholder-icon"></i>
            <button class="button button-clear ion-close-circled placeholder-icon button-stable" ng-show="inputSearch.value.length > 0" ng-click="clearSearch()"></button>
            <input type="search" ng-model="inputSearch.value" placeholder="Procurar">
        </label>
        <button ng-if="isIOS" class="button button-clear" ng-click="$ionicGoBack()"><span class="app-font-size-80">Cancelar</span></button>
    </ion-nav-title>

    <ion-tabs class="tabs-striped tabs-top tabs-background-light tabs-color-info" delegate-handle="searchtabs">
        <!--NEWS-->
        <ion-tab title="Notícias" class="app-font-size-90" href="#/search">
            <ion-nav-view name="search-news">
                <ion-content ng-controller="SearchCtrlNews">
                    <ion-list type="list">
                        <ion-item class="item-avatar" ng-repeat="new in sNews | filter:{title: filtering}">
                            <img ng-if="(new.images.image_fulltext || new.images.image_intro)" ng-src="{{url_intranet + (new.images.image_fulltext || new.images.image_intro)}}">
                            <h2 class="app-font-size-90">{{new.title}}</h2>
                            <p class="app-font-size-80"><span class="app-font-color-stable">{{new.unit || "ISGH"}} &#8226; {{new.category}}</span></p>
                        </ion-item>
                    </ion-list>
                    <ion-infinite-scroll ng-if="checkTotalNews()" spinner="ios-small" on-infinite="loadMoreNews()" distance="{{distance}}"></ion-infinite-scroll>
                </ion-content>
            </ion-nav-view>
        </ion-tab>

        <!--LECTURES & EVENTS-->
        <ion-tab title="Educação" class="app-font-size-90" href="#/search">
            <ion-nav-view name="search-lectures">
                <ion-content>
                    <ion-list type="list" ng-controller="SearchCtrlLectures">
                        <ion-item class="item-avatar" ng-repeat="lecture in sLectures | filter:{title: filtering}">
                            <img ng-if="(lecture.thumbnail)" ng-src="{{url_site + lecture.thumbnail}}">
                            <h2 class="app-font-size-90">{{lecture.title}}</h2>
                            <p class="app-font-size-80"><span class="app-font-color-stable">{{lecture.location}} &#8226; {{lecture.status.desc1+" "+lecture.status.desc2}} &#8226; Cursos</span></p>
                        </ion-item>
                    </ion-list>

                    <ion-list type="list" ng-controller="SearchCtrlEvents">
                        <ion-item class="item-avatar" ng-repeat="event in sEvents | filter:{title: filtering}">
                            <div class="item-image app-units" ng-class="checkColor(event.unit,'app-units-')">{{event.unit || "ISGH"}}</div>
                            <h2 class="app-font-size-90">{{event.title}}</h2>
                            <p class="app-font-size-80"><span class="app-font-color-stable">{{event.date | DateRelativeFilter}} &#8226; Eventos</span></p>
                        </ion-item>
                    </ion-list>
                </ion-content>
            </ion-nav-view>
        </ion-tab>

        <!--PROCESSOS SELETIVOS-->
        <ion-tab title="Processos Seletivos" class="app-font-size-90" href="#/search">
            <ion-nav-view name="search-procselets">
                <ion-content ng-controller="SearchCtrlProcselets">
                    <ion-list type="list">
                        <ion-item class="item-avatar" ng-repeat="category in sProcselets | filter:{category: filtering}">
                            <div class="item-image app-units app-text-uppercase" ng-class="checkColor(category.unit, 'app-units-')">{{category.unit}}</div>
                            <h2 class="app-font-size-90">{{category.category}}</h2>
                            <p class="app-font-size-80"><span class="app-font-color-stable">{{category.code}} &#8226; {{procseletsTitles[category.status]}} &#8226; {{category.file}}</span></p>
                        </ion-item>
                    </ion-list>
                    <ion-infinite-scroll ng-if="checkTotalProcselets()" spinner="ios-small" on-infinite="loadMoreProcselets()" distance="{{distance}}"></ion-infinite-scroll>
                </ion-content>
            </ion-nav-view>
        </ion-tab>

        <!--BIRTHDAYS-->
        <ion-tab title="Aniversários" class="app-font-size-90" href="#/search">
            <ion-nav-view name="search-birthdays">
                <ion-content ng-controller="SearchCtrlBirthdays">
                    <ion-list type="list">
                        <ion-item class="item-avatar" ng-repeat="birthday in sBirthdays | filter:{dsc_nome: filtering}">
                            <div class="item-image app-units app-units-stable"><i class="icon ion-person app-font-size-300"></i></div>
                            <h2 class="app-font-size-90">{{birthday.dsc_nome}}</h2>
                            <p class="app-font-size-80"><span class="app-font-color-stable">{{birthday.dat_nasc}} &#8226; {{birthday.dsc_filial}} &#8226; {{birthday.dsc_funcao}}</span></p>
                        </ion-item>
                    </ion-list>
                    <ion-infinite-scroll ng-if="checkTotalBirthdays()" spinner="ios-small" on-infinite="loadMoreBirthdays()" distance="{{distance}}"></ion-infinite-scroll>
                </ion-content>
            </ion-nav-view>
        </ion-tab>

    </ion-tabs>

</ion-view>