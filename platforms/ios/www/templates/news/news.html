<ion-view view-title="Notícias">

  <ion-nav-buttons side="primary">
    <button class="button ion-ios-search-strong button-clear" ng-class="{'button-light':isAndroid, 'button-info':isIOS}" ng-click="showFilterBar()"></button>
  </ion-nav-buttons>

  <ion-content class="has-header">

    <ion-refresher on-refresh="doRefresh()"></ion-refresher>
    
    <div ng-if="news.length == 0">
      <ui-jumbotron icon="ion-ios-home">Não há Notícias para exibir</ui-jumbotron>
    </div>
    
    <div class="list" ng-repeat="itemNew in news">

      <div class="item item-avatar">
        <div class="item-image app-units app-units-{{checkColor(itemNew.unit)}}">{{itemNew.unit || "ISGH"}}</div>
        <h2>{{itemNew.category}}</h2>
        <p>{{itemNew.created | DateRelativeFilter}}</p>
      </div>

      <div class="item item-body">
        <h2 class="app-no-margin-top">{{itemNew.title}}</h2>
        <img class="full-image" ng-click="openMimages(itemNew)" ng-if="(itemNew.images.image_fulltext || itemNew.images.image_intro)" ng-src="{{url_intranet + (itemNew.images.image_fulltext || itemNew.images.image_intro)}}">
        <p ui-sref="tab.new({itemNew: itemNew})" class="app-text-align-justfy">{{itemNew.striptext | EllipsisFilter:200}}</p>
        <a ui-sref="tab.new({itemNew: itemNew})" ng-click="setHits(itemNew)"><span class="item-note">Continue lendo</span></a>
      </div>
      
      <!--<div class="button-bar bar-light">
        <a class="button icon ion-thumbsup" ng-click="likeNews(itemNew)"><span class="app-font-size-80" ng-if="(itemNew.like !== 'undefined')">{{itemNew.like}}</span></a>
        <a class="button icon ion-thumbsdown" ng-click="unlikeNews(itemNew)"><span class="app-font-size-80" ng-if="(itemNew.unlike !== 'undefined')">{{itemNew.unlike}}</span></a>
        <a class="button" ng-click="openModal(itemNew)"><span class="app-font-size-80"> Continuar lendo</span></a>
      </div>-->
      

      <div class="item row app-item-no-padding app-item-no-margin">
        <div class="col app-item-no-padding">
          <div class="col-demo item item-checkbox item-checkbox-like app-item-no-border">
            <label class="checkbox checkbox-like">
              <input type="checkbox" ng-model="itemNew.liked" ng-click="doLikeNews(itemNew)">
            </label>
            <span class="app-font-size-70">{{(itemNew.liked_sum > 0)?itemNew.liked_sum:'&nbsp;'}}</span>
          </div>
        </div>
        <div class="col app-item-no-padding">
          <div class="col-demo item item-checkbox item-checkbox-unlike app-item-no-border">
            <label class="checkbox checkbox-unlike">
              <input type="checkbox" ng-model="itemNew.unliked" ng-click="doUnlikeNews(itemNew)">
            </label>
            <span class="app-font-size-70">{{(itemNew.unliked_sum > 0)?itemNew.unliked_sum:'&nbsp;'}}</span>
          </div>
        </div>
        
        <div class="col col-50">
          <div class="col-demo">
            <div class="button button-full button-clear app-item-no-margin dark" disabled><span class="app-font-size-100">{{itemNew.hits}}</span><span class="app-font-size-70"> Visualizações</span></div>
          </div>
        </div>
      </div>

    </div>

  </ion-content>
</ion-view>