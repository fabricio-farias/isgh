<ion-view view-title="Aniversários">

  <ion-nav-buttons side="primary">
    <button class="button ion-ios-search-strong button-clear" ng-class="{'button-light':isAndroid, 'button-info':isIOS}" ng-click="showFilterBar()"></button>
  </ion-nav-buttons>

  <ion-content ng-class="{'has-header': isIOS}">

    <ion-refresher on-refresh="doRefresh()"></ion-refresher>
    
    <div class="list">
      <div class="item item-divider app-item-no-border">
        <h2 class="app-no-white-space app-font-size-80 app-font-color-stable">Você pode realizar buscas dos aniversariantes através de uma data específica</h2>
      </div>
      
      <form name="dataForm">
        <div class="item tabs tabs-secondary tabs-icon-left" style="background-color: #FFF;border-color: #DDD;">
          <div class="tab-item">
            <label class="item item-light item-input item-select app-item-no-border">
              <div class="input-label">
                <span class="app-font-size-90">Dia</span>
              </div>
              <select class="app-font-size-90 app-item-select" ng-model="data.day" name="day" ng-required="true">
                <option value=""></option>
                <option ng-repeat="d in getDays() track by $index" value="{{d}}" ng-selected="checkSelectedDay(d)">{{d}}</option>
              </select>
            </label>
          </div>
          <div class="tab-item">
            <label class="item item-light item-input item-select app-item-no-border">
              <div class="input-label">
                <span class="app-font-size-90">Mês</span>
              </div>
              <select class="app-font-size-90 app-item-select" ng-model="data.month" name="month" ng-required="true">
                <option value=""></option>
                <option ng-repeat="m in getMonths() track by $index" value="{{m}}" ng-selected="checkSelectedMonths(m)">{{m}}</option>
              </select>
            </label>
          </div>
          <div class="tab-item">
            <button ng-click="searchBirthday(data)" class="button button-clear button-positive" ng-disabled="!dataForm.$valid">Buscar</button>
          </div>
        </div>
        
      </form>
    </div>
    
    <div ng-if="birthdays.length == 0">
      <ui-jumbotron icon="ion-ios-home">Não há Aniversariantes para exibir</ui-jumbotron>
    </div>

    <div class="list card" ng-repeat="birthday in birthdays">
      <div class="item item-avatar item-divider item-info" style="padding-top: 12px;padding-bottom: 12px;">
        {{birthday.dsc_nome}}
      </div>

      <div class="item item-avatar item-image-top">

        <div class="item-image item-image-top app-units app-units-stable"><i class="icon ion-person app-font-size-300"></i></div>
        
        <label class="item item-input item-divider item-light app-item-no-border">
          <span class="input-label app-input-label app-font-size-80">Setor:</span>
          <p class="app-no-white-space">{{birthday.dsc_setor}}</p>
        </label>
        <label class="item item-input item-divider item-light">
          <span class="input-label app-input-label app-font-size-80">Função:</span>
          <p class="app-no-white-space">{{birthday.dsc_funcao}}</p>
        </label>
        <label class="item item-input item-divider item-light">
          <span class="input-label app-input-label app-font-size-80">&nbsp;</span>
          <p>
            <span class="app-font-color-stable"><i class="icon ion-android-calendar"></i> {{birthday.dat_nasc}}</span>
            <span ng-class="checkColor(birthday.dsc_filial)"><i class="icon ion-location"></i> {{birthday.dsc_filial}}</span>
          </p>
        </label>

      </div>
    </div>

  </ion-content>

</ion-view>